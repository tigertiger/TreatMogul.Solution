@{
  Layout = "_Layout";
}

@using TreatMogul.Models
@model TreatMogul.Models.Treat

<h1>Add Special Flavor</h1>

@using (Html.BeginForm())
{
  @Html.HiddenFor(model => model.TreatId)
  @Html.Label("What special flavor would you like to add?")
  @Html.DropDownList("FlavorId")<br/><br/>
  <input type="submit" value="Create!"/>
}
<br /><br />
@if (@Model.JoinEntities.Count == 0)
{
  <p>There are currently no special flavors for this treat</p>
}
else
{
  <p>This Treat Already Comes in These Flavors:</p>
  @using (Html.BeginForm())
  {
    @Html.HiddenFor(model => model.TreatId)
    <ul>
    @foreach (var join in Model.JoinEntities)
    {
      <li>@join.Flavor.Taste</li>
    }
    </ul>
  }
}